#parse("/velocity/layout.vm")
#@mainLayout()
<h1>Lessons</h1>
<div id="lessons-vue" v-cloak>
    <div class="refine-container">
        <div id="filter-lessons">
            <h2>Filter</h2>
            <input v-model="includeBeginner" type="checkbox" id="beginner" value="Beginner" @click="alert">
            <label for="beginner">Beginner</label><br>
            <input v-model="includeIntermediate" type="checkbox" id="intermediate" value="Intermediate" v-on:click="alert">
            <label for="intermediate">Intermediate</label><br>
            <input v-model="includeAdvanced" type="checkbox" id="advanced" value="Advanced">
            <label for="advanced">Advanced</label><br>
            <input v-model="message" placeholder="Write something">
            <p>Message is: {{ message }}</p>
        </div>
    </div>
    <ul id="lesson-list" class="block-list">
        <li v-for="lesson in lessons" class="block">
            <a :href="`/lessons/${lesson.id}`">
                <div class="block__title"> {{ lesson.title }}</div>
                <div class="block__description"> {{ lesson.description }}</div>
            </a>
        </li>
    </ul>
</div>
<script>
    // client tells the server that it wants to GET "/api/lessons"
    axios.get("/api/lessons").then(function (response) {
        new Vue({
            el: '#lessons-vue',
            data: {
                lessons: response.data,
                includeBeginner: true,
                message: "python",
            },
            methods: {
                alert: function () {
                    alert("clicked");
                }
            }
        });
    });
</script>
#end
